---
title: 'command: ume screenshot'
description: 'Takes a screenshot and uploads it to a Ume server'
---

<pre>
$ ume <a href="/docs/ume/cli#global-options">[GLOBAL-OPTIONS]</a> screenshot <a href="#arg-server">{SERVER}</a> <a href="#arg-uploader-key">[UPLOADER KEY]</a>
</pre>

The **screenshot** subcommand will spawn a screenshotter, create a image from it, and upload it to a Ume-compatible server. **ume screenshot** supports the following screenshotter programs:

- [Flameshot] (Linux, macOS, Windows)
- [GNOME Screenshot] (Linux)

The **screenshot** subcommand supports Ume server v3.x and v4.x. Do note that Ume v3 is deprecated and no longer should be used.

## System Notifications

When **ume screenshot** is used, it'll use the system notifications to alert you on what is happening in the process. By default, it'll happen no matter what, unless you either set the [`--system-notifications`](#flag-system-notifications) flag to `false` or built a custom binary that disables the `os-notifier` Cargo feature.

You can disable this globally in the [CLI configuration](/docs/cli/configuration).

## Architecture

The architecture of the **screenshot** subcommand will first find a server URL provided by the [`SERVER`](#arg-server) argument. The argument can either be a name (like `default`) or a qualified URI. A **name** is referenced in the [configuration file](/docs/cli/configuration), which can be specified via the [`--config`](#flag-config) flag.

Next, it'll run a command that will begin the process of the screenshot. This will depend on which screenshotter is being used, but you can view the arguments that are used in [`flameshot_args`] or [`gnome_screenshot_args`] in the source code. It'll place all images in <code>[`$UME_TEMPDIR`](#flag-tempdir)/screenshots/[date].[ext]</code>.

[`gnome_screenshot_args`]: https://github.com/auguwu/ume/blob/master/src/cli/cmds/screenshot.rs#L399-L402
[`flameshot_args`]: https://github.com/auguwu/ume/blob/master/src/cli/cmds/screenshot.rs#L404-L407

It'll do some validation checks to see if the screenshotter provided a valid image. It only checks the actual content of the image to determine the [content type] of it, which uses the [`remi_fs::default_resolver`] function from **Noelware**'s **remi-rs** library, which will use the [`infer`] or [`file-format`] Rust crates to determine the actual content type, which will read the magic signature from the image itself.

[`remi_fs::default_resolver`]: https://docs.rs/remi-fs/latest/remi_fs/fn.default_resolver.html
[`file-format`]: https://crates.io/crates/file-format
[`infer`]: https://crates.io/crates/infer

When that is all done, it'll do the actual upload to the server. When the server has successfully done its validation checks as well, it'll return a JSON object of:

```json
{
    "filename": "http://<url>/images/<hash>.<ext>"
}
```

or, if the server has failed to validation on the prior request, it'll send out a system notification (if enabled) to say that something had happen and you should probably investigate.

## Arguments

| Name                                                            | Description                                                                                                                                  |
| :-------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------- |
| <a id="arg-server" />`SERVER` (required)                        | Either a qualified URI or a name that is referenced in the [CLI configuration](/docs/cli/configuration#servers)                              |
| <a id="arg-uploader-key" />`UPLOADER_KEY` (`$UME_UPLOADER_KEY`) | the uploader key either generated by the server or yourself. can be omitted if specified in the [CLI configuration](/docs/cli/configuration) |

## Flags

| Flag                                                                                             | Description                                                                    |
| :----------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------- |
| <a id="flag-tempdir" />`-t, --tempdir` (`$UME_TEMPDIR`)                                          | Temporary directory to store images from screenshotters                        |
| <a id="flag-no-copy" />`--no-copy` (`$UME_NO_COPY`)                                              | whether if the screenshot uility can copy the URL to the system clipboard      |
| <a id="flag-config" />`-c, --config` (`$UME_CONFIG_FILE`)                                        | location to where the [CLI configuration](/docs/cli/configuration) is located. |
| <a id="flag-system-notifications" />`--system-notifications` (`$UME_ALLOW_SYSTEM_NOTIFICATIONS`) | whether if system notifications can be shown.                                  |
| <a id="flag-gnome-screenshot" />`--gnome-screenshot <PROGRAM>` (`$GNOME_SCREENSHOT`)             | location to where the [GNOME Screenshot] binary is located.                    |
| <a id="flag-flameshot" />`--flameshot <PROGRAM>` (`$FLAMESHOT`)                                  | location to where the [Flameshot] binary is located.                           |

## Global Options

| Flag                                               | Description                                                                                               |
| :------------------------------------------------- | :-------------------------------------------------------------------------------------------------------- |
| <a id="flag-log-level" />`-l, --log-level <LEVEL>` | Configures the log level for all CLI commands. This will not configure for `ume server` (default: `INFO`) |
| <a id="flag-quiet" />`-q, --quiet`                 | Suppress all log output even if `--log-level` is specified.                                               |
| <a id="flag-help" />`-h, --help`                   | Print help                                                                                                |

[GNOME Screenshot]: https://gitlab.gnome.org/GNOME/gnome-screenshot
[Flameshot]: https://flameshot.org
